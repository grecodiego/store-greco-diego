(this["webpackJsonpstore-greco-diego"]=this["webpackJsonpstore-greco-diego"]||[]).push([[0],Array(25).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(18),a=n.n(s),o=(n(25),n(26),n(27),n(0));function i(){return Object(o.jsxs)("div",{className:"banner",children:[Object(o.jsx)("img",{className:"banner-image",src:"./images/body/header-x1.png",alt:"banner"}),Object(o.jsx)("div",{className:"title",children:"Electronics"})]})}n(29),n(30);var u=n(16),l=n(4),j=n(5),d=n.n(j),b=n(9),m="https://coding-challenge-api.aerolab.co/",h={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTExYmE0NGQ5ZmMzODAwMjFmNjM4NDYiLCJpYXQiOjE2Mjg1NTE3NDh9.wttcV_29IkSpCj2OLnyJ7ToBNPVWz2ERMqmS-hDoMY0"},x=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(m+"products",{headers:h});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(m+"user/me",{headers:h});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();function f(e,t){return e.cost<t.cost?-1:e.cost>t.cost?1:0}function p(e,t){return e.cost<t.cost?1:e.cost>t.cost?-1:0}function v(e,t){return e.name<t.name?-1:e.name>t.name?1:0}function g(e,t){return e.name<t.name?1:e.name>t.name?-1:0}var N=function(){var e=Object(b.a)(d.a.mark((function e(t,n,c){var r,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={productId:t},e.prev=1,e.next=4,fetch(m+"redeem",{method:"POST",body:JSON.stringify(r),headers:h});case 4:return s=e.sent,e.next=7,s.json();case 7:return a=e.sent,n(),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(1),c();case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,c){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={amount:parseInt(t)},e.prev=1,e.next=4,fetch(m+"user/points",{method:"POST",body:JSON.stringify(n),headers:h});case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(m+"user/history",{headers:h});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();var C=function(e,t){var n=Object(c.useState)(1),r=Object(l.a)(n,2),s=r[0],a=r[1],o=Math.ceil(e.length/t);return{next:function(){a((function(e){return Math.min(e+1,o)}))},prev:function(){a((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);a((function(e){return Math.min(t,o)}))},currentData:function(){var n=(s-1)*t,c=n+t;return e.slice(n,c)},currentPage:s,maxPage:o}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.useState)(e),n=Object(l.a)(t,2),r=n[0],s=n[1];function a(){s(!0)}function o(){s(!1)}return[r,a,o]},P=r.a.createContext();function w(e){var t=e.children,n=Object(c.useState)([]),r=Object(l.a)(n,2),s=r[0],a=r[1],i=Object(c.useState)([]),j=Object(l.a)(i,2),d=j[0],b=j[1],m=Object(c.useState)(!1),h=Object(l.a)(m,2),w=h[0],R=h[1],k=Object(c.useState)(!0),E=Object(l.a)(k,2),I=E[0],A=E[1],B=Object(c.useState)([]),H=Object(l.a)(B,2),T=H[0],D=H[1],L=Object(c.useState)(!1),G=Object(l.a)(L,2),J=G[0],q=G[1],Y=M(!1),Z=Object(l.a)(Y,3),W=Z[0],_=Z[1],z=Z[2],U=M(!1),V=Object(l.a)(U,3),F=V[0],Q=V[1],X=V[2];var K=Object(c.useState)(1),$=Object(l.a)(K,2),ee=($[0],$[1]),te=Math.ceil(s.length/16),ne=C(!1===J?s:T,16);return Object(c.useEffect)((function(){x().then((function(e){return a(e)}))}),[]),Object(c.useEffect)((function(){O().then((function(e){return function(e){b(e)}(e)}))}),[]),Object(c.useEffect)((function(){S().then((function(e){return D(e.reverse())}))}),[]),Object(o.jsx)(P.Provider,{value:{handleReset:function(){x().then((function(e){return a(e)}))},handleSortByNameAZ:function(){a(s.sort(v)),A(!I)},handleSortByNameZA:function(){a(s.sort(g)),A(!I)},setArrayProducts:a,handleSortLowerPrice:function(){a(s.sort(f)),A(!I)},handleSortHigherPrice:function(){a(s.sort(p)),A(!I)},arrayProducts:s,userInfo:d,setUserInfo:b,setOpen:R,open:w,sortRender:I,setSortRender:A,handleGetPoints:function(e){y(e);var t=Object(u.a)({},d);t.points=t.points+parseInt(e),b(t)},handleReedem:function(e,t){if(t<d.points){N(e,_,Q);var n=Object(u.a)({},d);n.points=d.points-t,b(n)}else window.alert("No tienes los puntos suficientes")},homeLink:J,setHomeLink:q,arrayHistory:T,isOpenModalReedemSuccess:W,openModalReedemSuccess:_,closeModalReedemSuccess:z,isOpenModalReedemError:F,openModalReedemError:Q,closeModalReedemSError:X,data:ne,count:te,handleChangePrev:function(){ne.prev()},handleChangeNext:function(){ne.next()},handleChange:function(e){ee(e),ne.jump(e)}},children:t})}n(32);function R(){var e=r.a.useContext(P).userInfo;return Object(o.jsxs)("div",{className:"boxcoin",children:[e.points,Object(o.jsx)("img",{src:"./images/icons/coin.svg",alt:"coin"})]})}function k(){var e=r.a.useContext(P).userInfo;return Object(o.jsxs)("div",{className:"boxuser",children:[e.name,Object(o.jsx)(R,{})]})}n(33),n(34);function E(e){var t=r.a.useContext(P).handleGetPoints;return Object(o.jsxs)("div",{className:"navpoints",onClick:function(n){return t(e.quanty)},children:["Add ",e.quanty," Points!!"]})}function I(){return Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(E,{quanty:1e3}),Object(o.jsx)(E,{quanty:5e3}),Object(o.jsx)(E,{quanty:7500})]})}n(35);function A(){var e=r.a.useContext(P),t=e.setOpen,n=e.open;return Object(o.jsx)("button",{className:"button-points",onClick:function(e){return t(!n)},children:"Get Coins!!"})}n(36);var B=n(2);function H(e){return Object(o.jsx)("button",{className:"linkbutton",to:"/history",onClick:e.handle,children:e.name})}Object(B.f)(H);var T=n(11);function D(){var e=r.a.useContext(P),t=e.open,n=e.homeLink,c=e.setHomeLink;return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("img",{src:"./images/body/aerolab-logo.svg",alt:"logo-lab",width:"36px"}),Object(o.jsxs)("div",{className:"user-info",children:[Object(o.jsx)(A,{}),!0===t?Object(o.jsx)(I,{}):null,!1===n?Object(o.jsx)(T.b,{style:{textDecoration:"none"},to:"/history",children:Object(o.jsx)(H,{name:"History",handle:function(e){return c(!0)}})}):Object(o.jsx)(T.b,{style:{textDecoration:"none"},to:"/",children:Object(o.jsx)(H,{name:"Home",handle:function(e){return c(!1)}})}),Object(o.jsx)(k,{})]})]})}n(42),n(43);function L(e){return Object(o.jsx)("button",{onClick:e.onPress,className:"pagebutton",children:Object(o.jsx)("img",{src:e.img,alt:"arrow-page"})})}n(44),n(45);function G(e){var t=r.a.useContext(P),n=t.arrayProducts,c=t.homeLink,s=t.arrayHistory,a=16*e.currentPage;return Object(o.jsxs)("div",{className:"quantyproducts",children:[a," of ",!1===c?n.length:s.length," products"]})}n(46);function J(e){return Object(o.jsx)("button",{className:"sortbutton",onClick:function(){e.handle(),e.jump(1)},children:e.textButton})}n(47);function q(e){return Object(o.jsx)("button",{onClick:e.onPress,className:"pagenumber",children:e.number})}function Y(e){var t=r.a.useContext(P),n=t.homeLink,c=t.handleReset,s=t.handleSortHigherPrice,a=t.handleSortLowerPrice,i=t.handleSortByNameAZ,u=t.handleSortByNameZA;return Object(o.jsxs)("div",{className:"Menu",children:[Object(o.jsx)(G,{currentPage:e.currentPage}),!1===n?Object(o.jsxs)(o.Fragment,{children:[" ",Object(o.jsx)("h3",{className:"text-sortBy menu-container",children:"Sort by:"}),"  ",Object(o.jsxs)("div",{className:"menu-container-sortbuttons",children:[Object(o.jsx)(J,{jump:e.jump,textButton:"Sort A~Z",handle:function(e){return i()}}),Object(o.jsx)(J,{jump:e.jump,textButton:"Sort Z~A",handle:function(e){return u()}}),Object(o.jsx)(J,{jump:e.jump,textButton:"Lowest Price",handle:function(e){return a()}}),Object(o.jsx)(J,{jump:e.jump,textButton:"Highest Price",handle:function(e){return s()}}),Object(o.jsx)(J,{jump:e.jump,textButton:"Reset",handle:function(e){return c()}})]})]}):null,Object(o.jsxs)("div",{className:"menu-container-arrows",children:[Object(o.jsx)(L,{onPress:e.prev,img:"./images/icons/arrow-left.svg"}),!1===n?Object(o.jsx)(o.Fragment,{children:e.count>0?function(t){for(var n=[],c=function(t){n.push(Object(o.jsx)(q,{number:t+1,onPress:function(n){return e.jump(t+1)}}))},r=0;r<t;r++)c(r);return n}(e.count):null}):null,Object(o.jsx)(L,{onPress:e.next,img:"./images/icons/arrow-right.svg"})]})]})}n(48),n(49);function Z(e){var t,n,s=Object(c.useState)(!1),a=Object(l.a)(s,2),i=a[0],u=a[1],j=r.a.useContext(P),d=j.userInfo,b=j.handleReedem;return Object(o.jsxs)("div",{className:"resultbox ".concat(!0===i?"resultbox-hover":"resultbox-normal"),onMouseOver:function(){return u(!0)},onMouseOut:function(){return u(!1)},children:[Object(o.jsx)("div",{className:"container-img",children:Object(o.jsx)("img",{src:e.img,alt:""})}),Object(o.jsxs)("div",{className:"container-text",children:[Object(o.jsx)("div",{className:"category",children:e.category}),Object(o.jsx)("div",{className:"name",children:e.name})]}),(t=e.cost,n=d.points,t>n?Object(o.jsxs)("div",{className:"buy-text-position ".concat(!0===i?"invisible":"visible"),children:["Te faltan ",-1*(n-e.cost),Object(o.jsx)("img",{className:"margin-left-5px",src:"./images/icons/coin.svg",alt:"coin",height:"15px"})," "]}):Object(o.jsx)("img",{className:"buy-icon-position",src:"./images/icons/buy-blue.svg",alt:"buy blue"})),Object(o.jsxs)("div",{className:"resultbox-blue ".concat(!0===i?"resultbox-blue-hover":"resultbox-blue-normal"),children:[Object(o.jsxs)("div",{className:"money-quanty",children:[function(t,n){return t>n?Object(o.jsxs)("div",{children:["Te faltan ",-1*(n-e.cost),Object(o.jsx)("img",{src:"./images/icons/coin.svg",alt:"coin"})," "]}):Object(o.jsxs)("div",{children:[t,Object(o.jsx)("img",{src:"./images/icons/coin.svg",alt:"coin"})," ",Object(o.jsx)("img",{className:"buy-icon-position",src:"./images/icons/buy-white.svg",alt:"buy white"})]})}(e.cost,d.points),"   "]}),Object(o.jsx)("button",{className:"button-redeem",onClick:function(t){return b(e.id,e.cost)},children:"Redeem now"})]})]})}function W(){var e=r.a.useContext(P).data;return Object(o.jsx)("div",{className:"results",children:e.currentData().map((function(e){return Object(o.jsx)(Z,{id:e._id,name:e.name,cost:e.cost,category:e.category,img:e.img.url},e._id)}))})}n(50),n(51);function _(e){return Object(o.jsxs)("div",{className:"resultboxhistory",children:[Object(o.jsx)("div",{className:"container-img-history",children:Object(o.jsx)("img",{src:e.img,alt:""})}),Object(o.jsxs)("div",{className:"container-text-history",children:[Object(o.jsx)("div",{className:"name-history",children:e.createDate}),Object(o.jsx)("div",{className:"category-history",children:e.category}),Object(o.jsx)("div",{className:"name-history",children:e.name})]})]})}function z(){var e=r.a.useContext(P),t=e.data;return(0,e.setHomeLink)(!0),Object(o.jsx)("div",{className:"history",children:t.currentData().map((function(e){return Object(o.jsx)(_,{id:e.product_id,name:e.name,category:e.category,createDate:e.createDate,img:e.img.url},e.product_id)}))})}var U=function(){return Object(o.jsxs)(B.c,{children:[Object(o.jsx)(B.a,{exact:!0,path:"store-greco-diego/",children:Object(o.jsx)(W,{})}),Object(o.jsx)(B.a,{path:"store-greco-diego/history/",children:Object(o.jsx)(z,{})})]})},V=(n(52),function(e){e.chidren;var t=e.isOpen,n=e.closeModal;return Object(o.jsx)("div",{className:"modal-wrapper ".concat(t&&"is-open"),children:Object(o.jsxs)("div",{className:"modalreedem",children:[Object(o.jsx)("div",{className:"modal-logo-container",children:Object(o.jsx)("div",{className:"modal-circle",children:"\u2713"})}),Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsx)("h2",{children:"SUCCESS!"}),Object(o.jsx)("h4",{children:"YEAH! EVERYTHING IS WORKING!!"}),Object(o.jsx)("button",{className:"modal-btn",onClick:n,children:"CONTINUE"})]})]})})}),F=(n(53),function(e){e.chidren;var t=e.isOpen,n=e.closeModal;return Object(o.jsx)("div",{className:"modal-error-wrapper ".concat(t&&"is-open"),children:Object(o.jsxs)("div",{className:"modalreedem-error",children:[Object(o.jsx)("div",{className:"modal-error-logo-container",children:Object(o.jsx)("div",{className:"modal-error-circle",children:"X"})}),Object(o.jsxs)("div",{className:"modal-error-content",children:[Object(o.jsx)("h2",{children:"ERROR!"}),Object(o.jsx)("h4",{children:"OH NO, SOMETHING WENT WRONG!"}),Object(o.jsx)("button",{className:"modal-error-btn",onClick:n,children:"TRY AGAIN"})]})]})})});function Q(){var e=r.a.useContext(P),t=e.data,n=e.count,c=e.handleChangePrev,s=e.handleChangeNext,a=e.handleChange,i=e.closeModalReedemSuccess,u=e.isOpenModalReedemSuccess,l=e.isOpenModalReedemError,j=e.closeModalReedemSError;return Object(o.jsxs)("div",{className:"body",children:[Object(o.jsx)(Y,{currentPage:t.currentPage,count:n,prev:c,next:s,jump:a}),Object(o.jsx)(U,{}),Object(o.jsx)(G,{currentPage:t.currentPage}),Object(o.jsx)(V,{isOpen:u,closeModal:i}),Object(o.jsx)(F,{isOpen:l,closeModal:j})]})}var X=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(D,{}),Object(o.jsx)(i,{}),Object(o.jsx)(Q,{})]})};a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(w,{children:Object(o.jsx)(T.a,{children:Object(o.jsx)(X,{})})})}),document.getElementById("root"))}]),[[54,1,2]]]);
//# sourceMappingURL=main.3897d880.chunk.js.map